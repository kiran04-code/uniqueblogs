<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Welcome | UniqueBlog</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <style>
    #loader {
      height: 100%;
      width: 100%;
      background-color: black;
      position: fixed;
      z-index: 999;
      top: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all ease 1s;
    }
    #loader h1 {
      color: transparent;
      font-family: futura;
      opacity: 0;
      font-size: 4vw;
      background: linear-gradient(to right, #1552F0, #4d8eff);
      -webkit-background-clip: text;
      position: absolute;
      animation-name: loder;
      animation-duration: 1s;
      animation-delay: 1s;
      animation-timing-function: linear;
    }
    #loader h1:nth-child(2) {
      animation-delay: 2s;
    }
    #loader h1:nth-child(3) {
      animation-delay: 3s;
    }
    @keyframes loder {
      0% { opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { opacity: 0; }
    }
  </style>
</head>

<body class="bg-black text-white font-sans">
  <% if (!locals.user) { %>
    <div id="loader">
      <h1>WRITE</h1>
      <h1>INSPIRE</h1>
      <h1>CONNECT</h1>
    </div>
  <% } %>

  <!-- Navbar -->
  <nav class="bg-gray-900 text-white p-4 shadow-md">
    <div class="max-w-7xl mx-auto flex flex-wrap justify-between items-center">
      <a href="/" class="text-2xl font-bold text-indigo-400">UniqueBlog</a>
      <div class="flex space-x-4 mt-2 md:mt-0">
        <a href="/signin" class="hover:text-indigo-300 text-sm md:text-base">Login</a>
        <a href="/signup" class="hover:text-indigo-300 text-sm md:text-base">Signup</a>
        <% if (locals.user) { %>
          <a href="/post" class="hover:text-indigo-300 text-sm md:text-base">Add Post</a>
          <a href="/profile" class="hover:text-indigo-300 text-sm md:text-base">Profile</a>
        <% } %>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="flex flex-col items-center text-center py-16 px-4 sm:px-6 md:py-28">
    <h1 id="hero-heading" class="text-3xl sm:text-4xl md:text-6xl font-bold mb-6 leading-tight text-center text-indigo-400 tracking-tight">
      Write. Inspire. Connect.
    </h1>
    <p class="text-base md:text-lg max-w-2xl mx-auto text-gray-300 mb-10 font-light" style="font-family: Teachers;">
      Share your stories and ideas with the world. Join our creative blogging community today.
    </p>
    <a href="/signup" class="bg-indigo-500 text-white px-6 py-3 rounded-2xl hover:bg-indigo-600 transition text-sm md:text-base">
      Get Started
    </a>
  </section>

  <!-- Blog Cards -->
  <section class="max-w-6xl mx-auto px-4 py-10">
    <h2 class="text-3xl font-bold text-indigo-300 mb-10 text-center">Latest Blog Posts</h2>
    <div class="grid gap-6 sm:gap-8 grid-cols-1 sm:grid-cols-2 xl:grid-cols-3">
      <% if (locals.postz) { %>
        <% postz.forEach(element => { %>
          <div class="bg-gray-800 rounded-2xl shadow-lg p-6 flex flex-col justify-between hover:shadow-indigo-500/30 transition duration-300">
            <div>
              <h3 class="text-xl font-bold text-white mb-3"><%= element.title %></h3>
              <p class="text-gray-400 text-sm leading-relaxed mb-4">
                <%= (element.content.split(' ').slice(0, 16).join(' ') + '...') || "A beginner’s guide to understanding astronomy and the wonders of our galaxy." %>
              </p>
            </div>
            <a href="/readmore/<%= element._id %>" class="mt-auto text-indigo-400 hover:underline text-sm font-medium">Read More →</a>
          </div>
        <% }) %>
      <% } else { %>
        <h3 class="text-indigo-300 text-center col-span-full">No New Blog Here</h3>
      <% } %>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-900 text-white text-center p-4 border-t border-gray-700">
    <p class="text-sm">&copy; 2025 UniqueBlog. All rights reserved.</p>
  </footer>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script>
    setTimeout(() => {
      const loader = document.getElementById("loader");
      loader.style.top = "-100%";
    }, 3700);

    document.addEventListener("DOMContentLoaded", () => {
      const heading = document.getElementById("hero-heading");
      const text = heading.textContent;
      heading.innerHTML = '';

      text.split('').forEach(char => {
        const span = document.createElement('span');
        span.textContent = char === ' ' ? '\u00A0' : char;
        span.classList.add('char');
        heading.appendChild(span);
      });

      gsap.set(".char", {
        opacity: 0,
        y: 100,
        rotateZ: gsap.utils.random(-45, 45, 5),
        scale: 0.5,
      });

      gsap.to(".char", {
        opacity: 1,
        y: 0,
        rotateZ: 0,
        scale: 1,
        color: "#a5b4fc",
        duration: 1,
        ease: "elastic.out(1, 0.6)",
        stagger: {
          each: 0.05,
          from: "start"
        }
      });
    });
  </script>
</body>
</html>
